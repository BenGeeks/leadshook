<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calandly</title>
    <!-- Start: Calendly CSS and JS -->
    <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet" />
    <script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript"></script>
    <!-- End: Calendly CSS and JS -->
  </head>
  <body>
    <div id="main-container">
      <div id="custom-form-container">
        <form action="javascript:showCalendly()" autocomplete="off">
          <input type="text" name="name" id="name" placeholder="Name" /><br />
          <input type="text" name="email" id="email" placeholder="Email" /><br />
          <input type="submit" value="Submit" id="submit" />
        </form>
      </div>
    </div>
    <form action="javascript:showCalendly()" autocomplete="off">
      <!-- Event Type Selection Dropdown -->
      Company Size:
      <select id="event-type-selection">
        <option value="small-business">1-9</option>
        <option value="small-business">10–19</option>
        <option value="small-business">20–29</option>
        <option value="small-business">30–39</option>
        <option value="small-business">40–49</option>
        <option value="enterprise">50–59</option>
        <option value="enterprise">60–69</option>
        <option value="enterprise">70–79</option>
        <option value="enterprise">80–89</option>
        <option value="enterprise">90+</option>
      </select>
    </form>
    >
    <script>
      /* Builds the correct URL to pass into the Advanced Embed Code */
      const buildURL = () => {
        var teamPage = 'acme-company-sales-team';
        var eventType = document.getElementById('event-type-selection').value;
        return (generatedURL = 'https://calendly.com/' + teamPage + '/' + eventType);
      };

      /* Hides the Form */
      const hideForm = () => {
        document.getElementById('custom-form-container').style.display = 'none';
      };

      const showCalendly = () => {
        buildURL();
        hideForm();

        /* Initialize Calendly Embed */
        Calendly.initInlineWidget({
          url: generatedURL,
          prefill: {
            name: document.getElementById('name').value,
            email: document.getElementById('email').value,
          },
        });
      };
    </script>
  </body>
</html>
